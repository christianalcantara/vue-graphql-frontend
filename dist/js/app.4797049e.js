(function(e){function n(n){for(var t,o,l=n[0],c=n[1],s=n[2],u=0,f=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]);d&&d(n);while(f.length)f.shift()();return r.push.apply(r,s||[]),a()}function a(){for(var e,n=0;n<r.length;n++){for(var a=r[n],t=!0,l=1;l<a.length;l++){var c=a[l];0!==i[c]&&(t=!1)}t&&(r.splice(n--,1),e=o(o.s=a[0]))}return e}var t={},i={app:0},r=[];function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,n,a){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)o.d(a,t,function(n){return e[n]}.bind(null,t));return a},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=n,l=l.slice();for(var s=0;s<l.length;s++)n(l[s]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,n,a){e.exports=a("56d7")},"56d7":function(e,n,a){"use strict";a.r(n);a("e260"),a("e6cf"),a("cca6"),a("a79d");var t=a("2b0e"),i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[t("div",{staticClass:"d-flex align-center"},[t("v-img",{staticClass:"shrink mr-2",attrs:{src:a("9b19"),alt:"Vuetify Logo",contain:"",transition:"scale-transition",width:"40"}}),t("h2",[e._v("Super Hero")])],1),t("v-btn",{staticClass:"ml-4",attrs:{text:"",to:"/"}},[t("span",{staticClass:"mr-2"},[e._v("Home")])]),t("v-spacer"),t("v-btn",{attrs:{text:"",to:"add_character"}},[t("span",{staticClass:"mr-2"},[e._v("Add")]),t("v-icon",[e._v("mdi-open-in-new")])],1)],1),t("v-main",[t("v-container",{attrs:{fluid:"","grid-list-md":""}},[t("v-col",{attrs:{cols:"12"}},[t("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[t("router-view")],1)],1)],1)],1)],1)},r=[],o=a("2877"),l=a("6544"),c=a.n(l),s=a("7496"),d=a("40dc"),u=a("8336"),f=a("62ad"),m=a("a523"),v=a("132d"),p=a("adda"),h=a("a722"),k=a("f6c4"),b=a("2fa4"),g={},S=Object(o["a"])(g,i,r,!1,null,null,null),y=S.exports;c()(S,{VApp:s["a"],VAppBar:d["a"],VBtn:u["a"],VCol:f["a"],VContainer:m["a"],VIcon:v["a"],VImg:p["a"],VLayout:h["a"],VMain:k["a"],VSpacer:b["a"]});var w=a("f309");t["a"].use(w["a"]);var N=new w["a"]({}),V=(a("c975"),a("5530")),x=(a("96cf"),a("1da1")),_=a("522d"),E=a("c2c3"),O=a("efe7");t["a"].use(_["a"]);var C="apollo-token",F=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||"http://localhost:8000/graphql",D=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_FILES_ROOT||F.substr(0,F.indexOf("/graphql"));t["a"].prototype.$filesRoot=D;var T=Object(E["setContext"])(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(n,a){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.headers,i=JSON.parse(localStorage.getItem("apollo-token")),e.abrupt("return",{headers:Object(V["a"])(Object(V["a"])({},t),{},{authorization:i||""})});case 3:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),j={httpEndpoint:F,wsEndpoint:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_WS,tokenName:C,persisting:!1,websocketsOnly:!1,ssr:!1,link:T,getAuth:function(){var e=localStorage.getItem(C);return e?"JWT "+e:""}};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(O["createApolloClient"])(Object(V["a"])(Object(V["a"])({},j),e)),a=n.apolloClient,t=n.wsClient;a.wsClient=t;var i=new _["a"]({defaultClient:a,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return i}var A=a("2f62");t["a"].use(A["a"]);var $=new A["a"].Store({state:{},mutations:{},actions:{},modules:{}}),R=a("8c4f"),U=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("HomePage")},q=[],H=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ApolloQuery",{attrs:{query:a("fc3a")},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.result.data;return t("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[a?e._l(a.characters.edges,(function(n){return t("v-flex",{key:n.node.id,staticClass:"xs12 sm4 md3",attrs:{"d-flex":""}},[t("v-card",{staticClass:"mb-6"},[t("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"300",tile:""}},[t("v-img",{staticClass:"white--text align-end",attrs:{src:n.node.thumbUrl}},[t("v-card-title",[e._v(e._s(n.node.name))])],1)],1),t("v-card-subtitle",{staticClass:"pb-0"}),t("v-card-text",{staticClass:"text--primary",staticStyle:{"max-height":"150px",height:"150px"}},[t("div",[e._v(e._s(n.node.description||"no description"))])]),t("v-fab-transition",[t("v-btn",{attrs:{absolute:"",bottom:"",color:"primary",dark:"",fab:"",right:"",small:""}},[t("v-icon",[e._v("mdi-heart")])],1)],1)],1)],1)})):e._e()],2)}}])})},L=[],M={name:"HomePage",apollo:{},data:function(){return{dialog:!1}}},I=M,z=a("8212"),B=a("b0af"),Q=a("99d9"),G=a("0789"),J=a("0e8f"),W=a("0fd9"),K=Object(o["a"])(I,H,L,!1,null,null,null),X=K.exports;c()(K,{VAvatar:z["a"],VBtn:u["a"],VCard:B["a"],VCardSubtitle:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VFabTransition:G["b"],VFlex:J["a"],VIcon:v["a"],VImg:p["a"],VRow:W["a"]});var Y={name:"Home",components:{HomePage:X}},Z=Y,ee=Object(o["a"])(Z,U,q,!1,null,null,null),ne=ee.exports,ae=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("v-form",{ref:"form",staticStyle:{width:"50%"},attrs:{"lazy-validation":""},on:{submit:function(n){return n.preventDefault(),e.formValid(n)}},model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[a("v-text-field",{attrs:{counter:40,rules:e.nameRules,label:"Name",outlined:"",required:""},model:{value:e.name,callback:function(n){e.name=n},expression:"name"}}),a("v-textarea",{attrs:{label:"Description",outlined:"",required:""},model:{value:e.description,callback:function(n){e.description=n},expression:"description"}}),a("v-file-input",{attrs:{rules:e.thumbnailRules,counter:"",label:"Thumbnail",outlined:"",required:"","show-size":"","truncate-length":"21"},model:{value:e.thumbnail,callback:function(n){e.thumbnail=n},expression:"thumbnail"}}),a("v-alert",{attrs:{dense:"",type:"error"},model:{value:e.erro,callback:function(n){e.erro=n},expression:"erro"}},[e._v(" "+e._s(e.errMsg)+" ")]),a("v-btn",{staticClass:"mt-3 ma-2",attrs:{disabled:!e.valid||e.loading,loading:e.loading,color:"success"},on:{click:e.submit}},[e._v(" Submit "),a("v-icon",{staticClass:"ml-2"},[e._v("mdi-send")])],1)],1)},te=[],ie=(a("a4d3"),a("e01a"),a("b0c0"),a("c58c")),re=a.n(ie),oe=a("7d7d"),le=a.n(oe),ce={name:"AddCharacter",data:function(){return{loading:!1,valid:!1,erro:!1,errMsg:"",name:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=40||"Name must be less than 40 characters"}],description:"",thumbnail:"",thumbnailRules:[function(e){return!!e||"Image is required"}]}},computed:{formValid:function(){return this.valid}},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},submit:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var a,t,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.validate(),e.name&&e.thumbnail){n.next=5;break}console.log(">>"),n.next=12;break;case 5:return a=e.$data,t=a.name,i=a.description,r=a.thumbnail,e.loading=!0,console.log(t,i),console.log(r),n.next=11,e.$apollo.mutate({mutation:re.a,variables:{name:t,description:i}}).then((function(n){e.erro=!1,e.errMsg="";var a=n.data.createCharacter.character.id;e.$apollo.mutate({mutation:le.a,variables:{pk:a,file:r}}).then((function(n){e.erro=!1,e.errMsg="",e.$router.push("/")})).catch((function(n){e.erro=!0,e.errMsg=n}))})).catch((function(n){e.erro=!0,e.errMsg=n}));case 11:e.loading=!1;case 12:case"end":return n.stop()}}),n)})))()}}},se=ce,de=a("0798"),ue=a("23a7"),fe=a("4bd4"),me=a("8654"),ve=a("a844"),pe=Object(o["a"])(se,ae,te,!1,null,"94fdb27a",null),he=pe.exports;c()(pe,{VAlert:de["a"],VBtn:u["a"],VFileInput:ue["a"],VForm:fe["a"],VIcon:v["a"],VTextField:me["a"],VTextarea:ve["a"]}),t["a"].use(R["a"]);var ke=[{path:"/",name:"Home",component:ne},{path:"/add_character",name:"AddCharacter",component:he}],be=new R["a"]({mode:"history",base:"/",routes:ke}),ge=be;t["a"].config.productionTip=!1,new t["a"]({vuetify:N,apolloProvider:P(),store:$,router:ge,render:function(e){return e(y)}}).$mount("#app")},"7d7d":function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadFile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pk"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"file"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Upload"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadThumbnail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pk"},value:{kind:"Variable",name:{kind:"Name",value:"pk"}}},{kind:"Argument",name:{kind:"Name",value:"file"},value:{kind:"Variable",name:{kind:"Name",value:"file"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};a.loc.source={body:"mutation UploadFile($pk: String!, $file: Upload!) {\n  uploadThumbnail(pk: $pk, file: $file) {\n    success\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function r(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}function o(e,n){var a={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var t=i[n]||new Set,o=new Set,l=new Set;t.forEach((function(e){l.add(e)}));while(l.size>0){var c=l;l=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var n=i[e]||new Set;n.forEach((function(e){l.add(e)}))}}))}return o.forEach((function(n){var t=r(e,n);t&&a.definitions.push(t)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}}))})(),e.exports=a,e.exports["UploadFile"]=o(a,"UploadFile")},"9b19":function(e,n,a){e.exports=a.p+"img/logo.cd95c421.svg"},c58c:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCharacter"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCharacter"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"character"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:191}};a.loc.source={body:"mutation CreateCharacter($name: String!, $description: String!) {\n  createCharacter(name: $name, description: $description) {\n    character {\n      id\n      name\n      description\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function r(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}function o(e,n){var a={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var t=i[n]||new Set,o=new Set,l=new Set;t.forEach((function(e){l.add(e)}));while(l.size>0){var c=l;l=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var n=i[e]||new Set;n.forEach((function(e){l.add(e)}))}}))}return o.forEach((function(n){var t=r(e,n);t&&a.definitions.push(t)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}}))})(),e.exports=a,e.exports["CreateCharacter"]=o(a,"CreateCharacter")},fc3a:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Characters"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"characters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbUrl"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:173}};a.loc.source={body:"query Characters {\n  characters {\n    edges {\n      node {\n        id\n        created\n        modified\n        name\n        description\n        thumbUrl,\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function r(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}function o(e,n){var a={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var t=i[n]||new Set,o=new Set,l=new Set;t.forEach((function(e){l.add(e)}));while(l.size>0){var c=l;l=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var n=i[e]||new Set;n.forEach((function(e){l.add(e)}))}}))}return o.forEach((function(n){var t=r(e,n);t&&a.definitions.push(t)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}}))})(),e.exports=a,e.exports["Characters"]=o(a,"Characters")}});
//# sourceMappingURL=app.4797049e.js.map